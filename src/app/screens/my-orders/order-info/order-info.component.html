<div class="container" *ngIf="order">
  <div class="order-info">
    <p><strong>Order ID:</strong> {{ order.id }}</p>
    <p><strong>Status:</strong> {{ order.status }}</p>
    <p><strong>Table Number:</strong> {{ order.tableNumber }}</p>
    <p><strong>Date:</strong> {{ order.date }}</p>
    <p><strong>Time:</strong> {{ order.time }}</p>
  </div>

  <h4>Products</h4>

  <div class="items-table-wrapper" *ngIf="items().length; else noItems">
    <table class="items-table">
      <thead>
        <tr>
          <th>Product</th>
          <th class="right">Amount</th>
          <th class="right">Unit Price</th>
          <th class="right">Line Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items()">
          <td>{{ item.product_name }}</td>
          <td class="right">{{ item.amount }}</td>
          <td class="right">{{ money(toNumber(item.product_price)) }}</td>
          <td class="right">{{ money(itemTotal(item)) }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noItems>
    <p>No items.</p>
  </ng-template>

  <!-- Totales -->
  <div class="totals">
    <p>
      <strong>Total:</strong>
      {{ money(toNumber(order.total || calculatedSubtotal())) }}
    </p>
  </div>
</div>

<p-toast></p-toast>
<p-button class="custom" (click)="closeDialog()">Close</p-button>
