:root{
  --bg:#fff8f0;
  --ink:#533521;
  --ink-2:#3e2a1b;
  --line:#EADCCE;
  --ok:#1a7f37;
  --ok-bg:#eaf8ee;
  --warn:#8a6d1a;
  --warn-bg:#fff6dd;
  --alert:#a61b1b;
  --alert-bg:#ffe8ea;
  --chip:#ece2d8;
}

.popup-backdrop{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(29,26,23,0.35);
  backdrop-filter: blur(4px);
  z-index:9999;
  padding:16px;
}

.popup-content{
  background: #ffffff !important;
  border:1px solid var(--line);
  border-radius:20px;
  box-shadow:0 20px 50px rgba(0,0,0,.18);
  max-width:520px; width:100%;
  padding:22px 20px;
  animation:fadeIn .22s ease-out;
  color:var(--ink);
  font-family:inherit;
}

/* Header */
.popup-header{
  display:flex; align-items:center; gap:12px; margin-bottom:14px;
}
.avatar{
  width:44px; height:44px; border-radius:12px;
  display:grid; place-items:center; font-size:24px;
  background:#fff; border:1px solid var(--line);
  box-shadow:0 6px 16px rgba(0,0,0,.06);
}
.title-wrap h2{ margin:0; font-size:1.3rem; color:var(--ink); }
.title-wrap .sub{ color:#5b5b5b; font-size:.95rem; }

/* Status chip */
.status-chip{
  margin-left:auto; padding:6px 10px; border-radius:999px; font-weight:600; font-size:.85rem;
  background:var(--chip); color:var(--ink);
  border:1px solid var(--line);
}
.status-chip.ok{ background:var(--ok-bg); color:var(--ok); border-color:#cfe9d6; }
.status-chip.late{ background:#fff1f1; color:var(--alert); border-color:#ffd2d7; }
.status-chip.off{ background:#f5efe9; color:#7a5b3c; border-color:#e5d6c6; }
.status-chip.open{ background:#eef4ff; color:#1d4ed8; border-color:#cddcff; }
.status-chip.warn{ background:var(--warn-bg); color:var(--warn); border-color:#f4e3b5; }

/* Messages */
.msg{
  display:flex; gap:10px; align-items:flex-start;
  padding:10px 12px; border-radius:12px; border:1px solid var(--line);
  background:#fff; color:var(--ink);
  margin:10px 0;
}
.msg i{ font-style:normal; opacity:.9; }
.msg.ok{ background:var(--ok-bg); border-color:#cfe9d6; color:var(--ok); }
.msg.warn{ background:var(--warn-bg); border-color:#f4e3b5; color:var(--warn); }
.msg.alert{ background:var(--alert-bg); border-color:#ffc9cf; color:var(--alert); }
.msg.info{ background:#eef4ff; border-color:#cddcff; color:#1d4ed8; }

/* Shift box */
.shift-box{
  border:1px dashed var(--line);
  border-radius:12px; padding:10px 12px; background:#fff;
  margin:10px 0 16px;
}
.shift-box.compact{ margin-top:6px; }
.shift-box .row{ display:flex; justify-content:space-between; gap:10px; }
.shift-box .label{ color:#6b7280; font-weight:600; }
.shift-box .value{ font-family:ui-monospace, SFMono-Regular, Menlo, monospace; }

/* Form + buttons */
.buttons{ display:flex; gap:10px; margin-top:14px; }
.buttons.center{ justify-content:center; }

.btn{
  appearance:none; border:1px solid transparent;
  border-radius:12px; padding:10px 14px; font-weight:700; cursor:pointer;
  transition:.15s transform ease, .15s box-shadow ease, .15s background ease;
  box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.btn:active{ transform:translateY(1px); }
.btn.primary{ background:#fff; color:var(--ink); border-color:var(--line); }
.btn.primary:hover{ background: #cea876; }
.btn.ghost{ background:#fff; color:var(--ink); border-color:var(--line); }
.btn.ghost:hover{ background:#f9f6f2; }
.btn:disabled{ opacity:.6; cursor:not-allowed; box-shadow:none; }

/* Spinner */
.spin{
  width:16px; height:16px; border-radius:50%;
  border:2px solid #cfd8e3; border-top-color:var(--ink);
  display:inline-block; animation:spin .8s linear infinite;
  vertical-align:middle; margin-right:8px;
}
.spin.inline{ margin-right:8px; }

@keyframes spin{ to{ transform: rotate(360deg); } }
@keyframes fadeIn{ from{ opacity:0; transform:translateY(-6px);} to{opacity:1; transform:none;} }

@media (max-width: 768px){
  .popup-content{ padding:18px 14px; }
  .avatar{ width:40px; height:40px; font-size:22px; }
  .title-wrap h2{ font-size:1.1rem; }
  .title-wrap .sub{ font-size:.9rem; }
}
